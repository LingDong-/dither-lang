
namespace exch {
  typedef JSON = {
    data : union[list[JSON],dict[str,JSON],str,f32]
  }
  func _decode_json(trg:JSON,src:str);
  func decode[T=JSON](src:str):T{
    x : union[list[JSON],dict[str,JSON],str,f32] = 0.0;
    j := JSON{data:x};
    _decode_json(j,src);
    return j;
  }
  func encode(obj:JSON):str{return _encode_json(obj);}
}
