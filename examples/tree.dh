include "std/math"
include "std/gx"

gx.size(320,240);

spr := 0.5;
frame := 0;

func tree(x:f32,y:f32,a:f32,l:f32){
  if (l < 8) return;
  
  x1 := x + math.cos(a) * l;
  y1 := y + math.sin(a) * l;
  
  gx.line(x,y,x1,y1);

  tree(x1,y1,a-spr,l*0.8);
  tree(x1,y1,a+spr,l*0.8);
}

while (1){
  gx.background(1,0.9,0.8);
  gx.stroke(0.1,0.2,0.3);
  
  spr = math.sin(frame*0.01);
  
  tree(160,240,-math.pi/2,50);
  gx.poll();
  
  frame++;
}
